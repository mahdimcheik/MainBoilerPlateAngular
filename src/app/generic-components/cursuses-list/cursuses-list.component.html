<app-smart-section [title]="title()" [editMode]="editMode()" [buttonIcon]="buttonIcon()" (onAddClick)="openModal()">
    <ng-template #main>
        @for (cursus of cursuses(); track cursus.id) {
            <app-cursus [cursus]="cursus"></app-cursus>
        }
    </ng-template>

    <ng-template #empty>
        <div class="text-center">
            <i class="pi pi-calendar-times text-gray-400 text-4xl mb-4"></i>
            <p class="text-gray-500">Pas d'expériences fournies</p>
            <button pButton label="Ajouter votre première expérience" class="mt-3 p-button-outlined"></button>
        </div>
    </ng-template>
</app-smart-section>

@if (showEditModal()) {
    <p-drawer header="Editer les informations personnelles" position="right" [visible]="showEditModal()" [style]="{ width: '50vw' }" [modal]="true" [closable]="true" (closeOnEscape)="(true)" (onHide)="cancel()">
        <div class="p-fluid formgrid grid">
            <app-configurable-form [structure]="cursusForm()" (onFormSubmit)="submit($event)" (onCancel)="cancel()"></app-configurable-form>
        </div>
        <p-footer>
            <button pButton type="button" label="Annuler" icon="pi pi-times" class="p-button-text" (click)="cancel()"></button>
            <button pButton type="button" label="Enregistrer" icon="pi pi-check" (click)="cancel()"></button>
        </p-footer>
    </p-drawer>
}
